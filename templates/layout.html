<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>C$50 Finance: {% block title %}{% endblock %}</title>
    <meta name="description" content="Finance App">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, minimal-ui">

    <link rel="stylesheet" media="screen, print" href="{{ url_for('static', filename='css/vendors.bundle.css') }}">
    <link rel="stylesheet" media="screen, print" href="{{ url_for('static', filename='css/app.bundle.css') }}">

    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='img/favicon/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='img/favicon/favicon-32x32.png') }}">

    <link rel="stylesheet" media="screen, print" href="{{ url_for('static', filename='css/themes/cust-theme-3.css') }}">
    
    <style>
      /* Mobile sidebar styles */
      @media (max-width: 991.98px) {
        .page-sidebar {
          transform: translateX(-100%);
          transition: transform 0.3s ease;
        }
        
        body.mobile-nav-on .page-sidebar {
          transform: translateX(0);
        }
        
        .page-content-overlay {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          z-index: 999;
        }
        
        body.mobile-nav-on .page-content-overlay {
          display: block;
        }
      }
    </style>
  </head>
  <body class="mod-bg-1 mod-nav-link nav-function-fixed">
      <div class="page-wrapper">
	<div class="page-inner">

	  {% if current_user.is_authenticated %}
	  <aside class="page-sidebar">
	    <div class="page-logo">
	      <a href="/" class="page-logo-link d-flex align-items-center">
		<span class="page-logo-text">C$50 Finance</span>
	      </a>
	    </div>
	    <nav id="js-primary-nav" class="primary-nav" role="navigation">
	      <ul id="js-nav-menu" class="nav-menu">
		<li class="{{ 'active' if request.path == '/' }}"><a href="/"><i class="fal fa-home"></i> <span class="nav-link-text">Portfolio</span></a></li>
		<li class="{{ 'active' if request.path == '/quote' }}"><a href="/quote"><i class="fal fa-search"></i> <span class="nav-link-text">Quote</span></a></li>
		<li class="{{ 'active' if request.path == '/buy' }}"><a href="/buy"><i class="fal fa-shopping-cart"></i> <span class="nav-link-text">Buy</span></a></li>
		<li class="{{ 'active' if request.path == '/sell' }}"><a href="/sell"><i class="fal fa-money-bill-wave"></i> <span class="nav-link-text">Sell</span></a></li>
		<li class="{{ 'active' if request.path == '/history' }}"><a href="/history"><i class="fal fa-history"></i> <span class="nav-link-text">History</span></a></li>
	      </ul>
	    </nav>
	  </aside>
	  <div class="page-content-overlay" data-action="toggle" data-class="mobile-nav-on" data-target="body"></div>
	  {% endif %}

	  <div class="page-content-wrapper">
	    <header class="page-header" role="banner">
	      {% if current_user.is_authenticated %}
	      <div class="hidden-lg-up">
		<a href="#" class="btn btn-sm btn-icon waves-effect waves-themed" data-action="toggle" data-class="mobile-nav-on" data-target="body">
		  <i class="fal fa-bars" style="font-size: 20px;"></i>
		</a>
	      </div>
	      {% endif %}

	      <div class="ml-auto d-flex align-items-center">
		{% if current_user.is_authenticated %}
		<div class="mr-3">
		  <span class="badge badge-success p-2">
		    <i class="fal fa-wallet"></i> Cash: {{ current_user.cash | usd }}
		  </span>
		</div>
		<a href="/logout" class="btn btn-sm btn-outline-danger">Logout</a>
		{% else %}
		<a href="{{ url_for('login') }}" class="btn btn-sm btn-primary mr-2">Login</a>
		<a href="{{ url_for('register') }}" class="btn btn-sm btn-outline-primary">Register</a>
		{% endif %}
	      </div>
	    </header>

	    <main id="js-page-content" role="main" class="page-content">
	      {% block main %}{% endblock %}
	    </main>
	  </div>
	</div>
      </div>

      <script src="{{ url_for('static', filename='js/vendors.bundle.js') }}"></script>
      <script src="{{ url_for('static', filename='js/app.bundle.js') }}"></script>
    </body>
</html>
